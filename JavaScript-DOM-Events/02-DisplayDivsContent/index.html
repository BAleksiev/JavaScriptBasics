<html>
    <body>
        <div>first div</div>
        <div>second div</div>
        <div class="empty"></div>
        <div>third div<div>inner div</div></div>
        <ul id="result"></ul>
        <script>
            var divs = document.body.getElementsByTagName('div'),
                    ulResult = document.getElementById('result'),
                    i;

            for (i in divs) {
                var li = document.createElement('li');
                if (divs[i].textContent) {
                    li.innerHTML = divs[i].textContent.replace('\n', '</br>');
                    ulResult.appendChild(li);
                }
            }
        </script>
    </body>
</html>
